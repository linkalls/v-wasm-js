# 速度改善メモ

## 実施内容
- WASM初期化を`instantiateStreaming`優先にし、プリコンパイル済み`WebAssembly.Module`受け取りと同時実行ガードを追加。`onPerf`フックでロード各フェーズの計測が可能。
- `<For>`のキー付き差分を最適化（プレフィックス追加/縮小の高速パス、不要ノードの一括削除、インデックスクロージャの安定化）でリスト操作時のDOM触りとGCを削減。
- `package.json`に`sideEffects: false`を付与し、未使用エクスポートをツリーシェイク可能にしてバンドルをさらに縮められるようにした。

## 次ステップ
- `bun run build` / `bun run build:wasm` / `bun run build:types`を通し、ビルド結果と型出力を確認。
- ベンチ (`benchmarks/run.ts` か `run-node.mjs`) を再実行し、ロード/リスト更新の実測差分を記録。
- PR作成: `release/0.1.5-benchmarks` → `main`（タイトル例: “Optimize WASM init and keyed list updates”）。
